
## 高频

>(1) 进程和线程之间有什么区别？

进程是运行中的程序，线程被包含在进程之中，是进程中的实际运作单位。

进程是资源分配的基本单元，线程是独立调度的基本单元。

进程间切换代价大，线程间切换代价小。

进程拥有资源多，线程拥有资源小。

多个线程共享进程的资源。

阅读：[进程和线程的一个简单解释](http://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html)


>(2) 如何保证线程安全？

线程安全：指在多线程对一个共享资源同时进行操作时，所得到的结果每次都是一样的。

要保证线程安全，就必须保证线程同步。保证线程的

- 可见性（一个线程对共享资源的操作，所有的线程都是可以看见的）
- 有序性（代码的执行顺序都是有序的）
- 原子性（一个代码块，要么全部执行，要么全部不执行，只要执行了就不会被任何事务打断）

---------

进程安全也是类似的，指多个进程并发访问共享数据时，不需要额外的同步措施来保证数据的正确性。

不同的进程拥有独立的内存空间，数据之间不共享，因此多进程下的数据一致性主要使用进程间通信机制：管道、消息队列、共享内存等



>(3) 内核态与用户态？

内核态和用户态时操作系统的两种运行级别，一般操作系统的内核包括了：时钟管理、中断管理、原语、系统资源管理
，是操作系统最基本、最核心的部分。用户态一般用户程序运行的权限级别。


>(4) 进程通信的方式？

进程间通信主要包括 管道，系统IPC（包括消息队列、信号、共享内存+信号模型），套接字（SOCKET）

**管道**，pipe 是进程用来通讯的共享内存区域。
- 匿名管道，如 Linux 中的 |，将前一个的输出用于后一个的输入
- 命名管道

inter-process communication

参考：[大厂面试笔试题31丨进程间通信方式](https://www.bilibili.com/video/BV1tv411p7WX)

>(5) 线程通信的方式

线程通信主要分为三种，共享内存，消息传递和管道流

>(6) 谈谈虚拟内存和局部性原理

虚拟内存，是操作系统内存管理的一种技术，使程序不需要全部装入即可运行，运行时根据需要动态调入和换出数据。

虚拟内存基于程序的局部性原理

- 时间局部性（程序的某条指令一旦执行，不久后该指令可能再次执行）
- 空间局部性（一旦程序访问了某个存储单元，其相邻的存储单元随后也会被访问）

>(7) 为什么 Linux 需要虚拟内存？

- `安全性` (虚拟内存可以控制内存对物理内存的访问，隔离不同进程的访问权限，提高系统的安全性)

- `结合磁盘和物理内存的优势` (虚拟内存可以利用内存起到缓存作用，提高进程访问磁盘的速度)

- `减少共享物理内存的开销` (虚拟内存可以为进程提供独立的内存空间并引入多层的页表结构将虚拟内存翻译成物理内存，进程之间可以共享物理内存减少开销，也能简化程序的链接、装载以及内存分配过程；)

参考：https://draveness.me/whys-the-design-os-virtual-memory/


>(8) Git 常用命令

```bash
# 创建新的 git 仓库
git init

# 检出仓库
git clone

# 将改动添加到缓存区
git add <filename>
git add *

# 提交更改
git commit -m '代码提交信息'

# 推送更改
git push origin master

# 更新你的本地仓库至最新改动
git pull

```


>(9) Linux 常用命令

| 命令                     | 说明                   |
| ------------------------ | ---------------------- |
| cd  /                    |                        |
| cd ..                    |                        |
| cd ~                     |                        |
| pwd                      |                        |
| ls                       |                        |
| chmod                    | 修改属性               |
| cat                      | 查看文件               |
| df                       | 查看磁盘信息           |
| netstat -ano             | 列出所有端口的使用情况 |
| taskkill /T /F /PID 9088 | 结束进程               |


## 低频


>(1) 了解上下文切换吗？

常见的有： cpu 上下文切换、进程上下文切换、线程上下文切换、协程上下文切换；

>(2) 如何提高计算性能

- 优化IO
  - 索引、压缩、排序、分区、分块、减少中间表、缓存等
- 算法改进
- 合理使用异步同步
- 限流保护
- 多线程
- 集群、分布式

>(3) 了解架构设计吗？

- 冗余能力
- 故障转移能力
  - 如 DB 不可用时，中断现场并保存上下文。
- 系统资源隔离性
  - 减少强依赖，不然下游任务天天躺枪
- 事前防御
  - 做好监控
  - 限流、熔断、降级
  - 提高代码质量、压测、review 等


参考：https://zhuanlan.zhihu.com/p/591429383


>(4) 说说红黑树？

为了保持AVL（平衡二叉树）的性质，插入和删除操作之后，需要频繁地调整全树整体地拓扑结构，代价较大。于是引入了红黑树，它在AVL树的基础上放宽了条件，也因此具有较好的性能。

以下特点：
- 每个结点不是红色，就是黑色。
- 根节点和叶节点都是黑色
- 不存在两个相邻的红色结点
- 对每个结点，该结点到任一叶节点的简单路径上，所含黑节点的数量相同

