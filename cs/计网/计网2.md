考纲内容：
- 通信基础
  - 信道、信号、带宽、码元、波特、速率、信源与信宿等**基本概念**
  - **奈氏准则和香农定理**；**编码与调制**
  - **数据交换**：电路交换、报文交换与分组交换；数据报与虚电路
- 传输介质
  - 双绞线、同轴电缆、光纤与无线传输介质；物理层接口的特性
- 物理层设备
  - 中继器、集线器


## 2.1 概述

物理层解决如何在连接各种计算机的传输媒体上传输数据比特流。

**主要任务**：确定与传输媒体接口有关的一些特性。

- `机械特性`（如接口形状、引脚数目等）
- `电气特性`（线路上信号的电压范围、阻抗匹配、传输速率、距离限制等）
- `功能特性`（指明电平表示的意义等）
- `规程特性`（定义各条物理线路的工作规程和时序关系）

---------------------

**数据通信的相关术语**：
- 数据（传送信息的实体，通常是有意义的符号序列）
- 信号（数据的电气/电磁的表现，是数据在传输过程中的存在形式）
  - 数字信号，参数的取值是离散的
  - 模拟信号，参数的取值是连续的
- 信源（产生和发送数据的源头）
- 信宿（接收数据的终点）
- 信道（信号的传输媒介）

## 2.2 数据通信

**通信方式：**
- 单工通信
  - 只有一个方向的通信，没有反方向的交互。需要一条信道
- 半双工通信
  - 通信的双方都可以发送和接受信息，但任何一方都不能同时发送和接受。需要两条信道
- 全双工通信
  - 通信的双方都可以同时发送和接受信息。需要两条信道


**数据传输方式：**
- 串行传输（适合远距离，电缆等）
- 并行传输（适合近距离，如计算机内部）

---------------------

- **波特率**
  - 设备每秒钟发生信号变化的度量
- **码元**
  - 表示一个固定时长的信号波形（数字脉冲）
  - k进制码元，表示码元的离散状态有k个（k>=2）
- **码元传输速率**
  - 【单位时间内数字通信系统所传输的码元个数】
  - 单位：`Baud`（波特）（1Baud = 1码元/s）
- **信息传输速率**
  - 【单位时间内数字通信系统所传输的二进制码元个数】
  - 信息传输速率 = 码元传输速率 * $log_2k$
  - 单位：`b/s`（比特/秒）

>已知八进制数字信号的传输速率为 1600B。试问变换为二进制数字信号时传输速率是多少？`4800b/s`

> 已知二进制数字信号的传输速率为 2400b/s。试问变换为四进制数字信号时，传输速率是多少波特？`1200B`


## 2.3 奈氏准则与香农定理


**奈氏准则**：在理想低通（无噪声，带宽受限）条件下，为避免码间串扰，极限码元传输速率为 `2W Baud`；
$W$ 是信道带宽，单位是 $Hz$。

理想低通 信道下的 **极限数据传输速率** = $$2W\cdot\log_2k$$

**失真**：信号发生扭曲变化。受码元传输速率、信号传输距离、噪声干扰、传输媒体等影响。

**码间串扰**：接收端收到的信号波形失去了码元之间的清晰界限的现象。（码元传输过快）

**信道带宽**：信道能通过的最高频率和最低频率之差。

>在无噪声的情况下，某通信链路带宽为 3k Hz，采用4个相位，每个相位具有4种振幅的QAM调制技术，则该通信链路上的最大数据传输速率是多少？

>解：调相和调幅后，信号有16种变化，即16种码元；<br>
根据奈氏准则，最大数据传输速率 = $ 2 * 3k * \log_2{16} = 24 kb/s$

---------------------

**香农定理**：在带宽受限且有噪声的信道中，为了不产生误差，信道的**极限数据传输速率**为
$$W\cdot\log_2(1+S/N)$$

**信噪比** = 信号的平均功率/噪声的平均功率，常记为 `S/N`。实际中，常常把这个比值换用计量单位为分贝dB：
$$信噪比（dB）= 10 * log_{10}(S/N)$$
单位为dB时要先转换。

换用 dB 为度量单位，是为了更好地描述信噪比；0dB表示输出与输入或两个比较信号一样大。


>电话系统的典型参数是带宽为 3k Hz，信噪比为30dB，则该系统的最大数据传输速率是多少？

>解：30dB = 10*$\log_{10}S/N$，-> S/N = 1000
最大数据传输速率 = 3000 * $\log_2(1+1000)$ ≈ 30kb/s

------------------------

提高最大数据传输速率，根据奈氏准则，可提高带宽或采用更好的编码技术。
提高最大数据传输速率，根据香农定理，可提高带宽或信噪比。



## 2.4 编码与调制

**编码**：把数据变换为数字信号的过程

**调制**：把数据变换为模拟信号的过程

|          | 数字数据           | 模拟数据             |
| -------- | ------------------ | -------------------- |
| 数字信号 | 通过数字发送器编码 | 通过PCM编码器编码    |
| 模拟信号 | 通过调制器调制     | 通过放大器调制器调制 |


- 信道上传送的信号
  - **基带信号**（直接表达了要传输的信息的信号）（来自信源的信号）（数字信道上传输）
    - 基带传输：将基带信号直接传送到数字信道
    - 频带传输：将基带信号调制后送到模拟信道
  - 宽带信号（将基带信号进行调制后形成的频分复用模拟信号）（模拟信道上传输）

---------------------

**数字数据的编码**

- `NRZ`非归零编码（高1低0）
- `NRZI`反向非归零编码（信号保持不变表示1，信号翻转表示0）
- `RZ`归零编码（每个时钟周期的中间变成低电平）
- **曼彻斯特编码**（前高后低表示码元1；或相反）
  - 以太网的编码方式就是曼彻斯特编码
  - 每个比特需要两个信号周期，编码效率为50%，即波特率是数据率的两倍
- 差分曼彻斯特编码（前半个码元与上一个码元的后半个码元相同表示1）

<img src="https://img-1301102143.cos.ap-beijing.myqcloud.com/20220714124730.png">

---------------------

**数字数据的调制**

<img src="https://img-1301102143.cos.ap-beijing.myqcloud.com/20220714130100.png">

--------------------------

- 模拟数据的编码
  - 抽样$$f_{采样频率}\ge 2f_{信号最高频率}$$
  - 量化
  - 编码
- 模拟数据的调制（为了传输的有效性，可能需要较高的频率，应对信号的衰减）

## 2.5 数据交换方式⭐

- `电路交换`
  - 特点：通信时延小，有序传输，**独占资源**，必须是面向连接的；**不具备差错控制能力**
  - 应用：大量数据传输，对时延敏感的应用，语音业务
- `报文交换`（采用存储转发）
  - 特点：线路利用率高，速率自适配，实时性差
  - 模型：电报系统
- `分组交换`（采用存储转发）
  - 特点：线路分段占用，链路共享，可靠性高，速率自适配，减少结点延迟时间，无建立时延
  - 以太网采用的是分组交换
  - 服务方式（由网络层提供）
    - `数据报方式`（为网络层提供无连接服务） 
    - `虚电路方式`（结合数据报方式和电路交换方式，**面向连接**，**可靠性高**）


|                    | 数据报服务                                   | 虚电路服务                                               |
| ------------------ | -------------------------------------------- | -------------------------------------------------------- |
| 连接的建立         | 不需要                                       | 需要                                                     |
| 目的地址           | 每个分组有完整的目的地址                     | 仅在建立连接阶段使用，之后每个分组使用长度较短的虚电路号 |
| 路由选择           | 每个分组独立地路由选择和转发                 | 同一虚电路的分组同一路由转发                             |
| 分组顺序           | 不保证分组有序到达                           | 保证分组有序到达                                         |
| 可靠性             | 不保证可靠通信，可靠性由用户主机保证         | 可靠性由网络保证                                         |
| 差错处理和流量控制 | 由用户主机进行流量控制，不保证数据报的可靠性 | 可由分组交换网负责，也可由用户主机负责                   |

<img src="https://img-1301102143.cos.ap-beijing.myqcloud.com/20220714132924.png" style="zoom:70%">


**报文** 是网络中交换与传输的数据单元，即站点一次性要发送的数据块；长度不限且可变

>为了使数据在网络中的**传输时延最小，应该采用电路交换**；<br>为保证数据无差错地传送，不应采用电路交换，**电路交换不具有差错控制的能力**；<br><br>**分组交换对报文交换的主要改进**：传输单位更小且有固定的最大长度，可以减少传输时延；

>数据报服务中，每个分组可以独立地进行路由选择和转发；但在虚电路服务中，同一虚电路的分组按照同一路由转发，一旦虚电路中的某个结点出现故障，就必须重新建立一条虚电路；<br>所以，**对于出错率高的传输系统，应该采用数据报方式**。

## 2.6 传输介质

**传输媒体并不是物理层**。物理层解决如何在连接各种计算机的传输媒体上传输数据比特流。

- 导向性传输介质
  - **双绞线**（由两根采用一定规则并排绞合的、相互绝缘的铜导线组成）
    - 绞合：减少对相邻导线的电磁干扰。
    - 屏蔽双绞线：加入了金属屏蔽层，提高抗电磁干扰）
  - 同轴电缆（抗干扰性更好）
  - 光纤（利用光导纤维传递光脉冲进行通信）
- 非导向性传输介质
  - 无线电波（信号向所有方向传播）
  - 微波（信号向固定方向传播）
  - 红外线、激光

## 2.7 题型分析

- 基础概念题
- 计算题
  - 两个极限传输速率
  - f * 表示信号的 bit 数 = 最大数据传输速率【P44 T17 T19】
  - 总发送时延 = 第一个分组到达时间 + （n-1）* 发送1分组时间 【P44 T33 T36】